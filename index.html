<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <title>Matilda & Pussads Retro Arcade Bröllop 👾</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<canvas id="gameCanvas"></canvas>

<div class="overlay">
    <h1>✨ Matilda & Pussads Bröllop ✨</h1>
    <p>🗓️ Datum: 6 juni 2025</p>
    <p>📍 Plats: Hembygdsgården</p>
    <p>🎩 Klädsel: Kavaj</p>
    <p>🎶 Vigsel 15:00, Middag & Fest 17:00</p>
    <p>👾 Klicka & Skjut fiender!</p>
</div>

<div class="scanlines"></div>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let player = { x: canvas.width / 2, y: canvas.height - 50, size: 20 };
    let bullets = [];
    let enemies = [];

    function createEnemies() {
        enemies = [];
        for (let i = 0; i < 8; i++) {
            for (let j = 0; j < 3; j++) {
                enemies.push({ x: 60 + i * 80, y: 60 + j * 60, size: 30 });
            }
        }
    }

    function drawPlayer() {
        ctx.fillStyle = '#39ff14';
        ctx.fillRect(player.x - player.size / 2, player.y - player.size / 2, player.size, player.size);
    }

    function drawBullets() {
        ctx.fillStyle = '#ff00ff';
        bullets.forEach(b => {
            ctx.fillRect(b.x - 2, b.y - 10, 4, 10);
        });
    }

    function drawEnemies() {
        ctx.fillStyle = '#ff0080';
        enemies.forEach(e => {
            ctx.fillRect(e.x - e.size / 2, e.y - e.size / 2, e.size, e.size);
        });
    }

    function updateBullets() {
        bullets = bullets.filter(b => b.y > 0);
        bullets.forEach(b => b.y -= 8);

        bullets.forEach(b => {
            enemies.forEach((e, index) => {
                if (b.x > e.x - e.size / 2 && b.x < e.x + e.size / 2 &&
                    b.y > e.y - e.size / 2 && b.y < e.y + e.size / 2) {
                    enemies.splice(index, 1);
                    b.y = -10;
                }
            });
        });
    }

    function gameLoop() {
        ctx.fillStyle = '#000';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        drawPlayer();
        drawBullets();
        drawEnemies();
        updateBullets();

        requestAnimationFrame(gameLoop);
    }

    window.addEventListener('mousemove', e => {
        player.x = e.clientX;
    });

    window.addEventListener('click', () => {
        bullets.push({ x: player.x, y: player.y });
    });

    createEnemies();
    gameLoop();

    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    });
</script>
</body>
</html>
